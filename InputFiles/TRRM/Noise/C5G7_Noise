type noiseTRRMPhysicsPackage; 

//pop      1750; 
pop      1250; 
active   2000;  
inactive 100000; 
!entropy 0;
dead     20;  
termination 220;  
plot 1;
cache 1;
XSdata   mg; 
dataType mg;
outputFile C5G7_Noise ;

fissionMap {type multiMap;
            maps (xax yax);
            xax { type spaceMap; axis x; grid lin; min -32.13; max 10.71; N 34;}
            yax { type spaceMap; axis y; grid lin; min -10.71; max 32.13; N 34;}
}
fluxMap {type multiMap;
            maps (xax yax);
            xax { type spaceMap; axis x; grid lin; min -32.13; max 32.13; N 51;}
            yax { type spaceMap; axis y; grid lin; min -32.13; max 32.13; N 51;}
}

noise {
omega 6.28318530718;
! Should be consistent with Chalmers results
! They used a cosine (not a sine) and forgot pi normalisation
! Division by pi should be done manually
sine 0;

materials {

mox7N {

reactions {
capture (0.05 0.05 0.05 0.05 0.05 0.05 0.05);
}

}

}

}
                   
geometry { 
  type geometryStd; 
  // ( -x, +x, -y, +y, -z, +z)
  boundary ( 1 0 0 1 1 1); 
  graph {type extended;}

  surfaces { 
             Domain          { id 3; type box; origin (0.0 0.0 0.0); halfwidth (32.13 32.13 32.13);}  	
  }
  
  cells {  }
  
  universes { 
    	root { id 1000; type rootUniverse; border 3; fill u<100>; }  
    
    // Pin universes 
    pin1 { id 1; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (UO2 UO2 UO2 water water water);}
    pin2 { id 2; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (GT GT GT water water water);}
    pin3 { id 3; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (mox43 mox43 mox43 water water water);}
    pin4 { id 4; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (mox7 mox7 mox7 water water water);}    
    pin5 { id 5; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (mox87 mox87 mox87 water water  water);}           
    pin6 { id 6; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (FC FC FC water water water);}
    pin7 { id 7; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (UO2N UO2N UO2N water water water);}
    pin8 { id 8; type azimPinUniverse; naz 8; radii (0.311769 0.440908 0.5400 0.63 0.72 0.0 ); rotation (22.5 0 0);  fills (mox7N mox7N mox7N water water water);}    

    // Infinite moderator
    pin30 { id 30; type pinUniverse; radii (0.0); fills (water);}      

// Lattices
latUO2{
      id 10; 
      type latUniverse; 
      origin (0.0 0.0 0.0); 
      pitch (1.26 1.26 0.0);
      shape (17 17 0); 
      padMat water; 
      map ( 

 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 2 1 1 2 1 1 2 1 1 1 1 1 
 1 1 1 2 1 1 1 1 1 1 1 1 1 2 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 2 1 1 2 1 1 2 1 1 2 1 1 2 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 2 1 1 2 1 1 6 1 1 2 1 1 2 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 2 1 1 2 1 1 2 1 1 2 1 1 2 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 2 1 1 1 1 1 1 1 1 1 2 1 1 1 
 1 1 1 1 1 2 1 1 2 1 1 2 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
);
}

latUO2N{
      id 11; 
      type latUniverse; 
      origin (0.0 0.0 0.0); 
      pitch (1.26 1.26 0.0);
      shape (17 17 0); 
      padMat water; 
      map ( 

 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 2 1 1 2 1 1 2 1 1 1 1 1 
 1 1 1 2 1 1 1 1 1 1 1 1 1 2 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 2 1 1 2 1 1 2 1 1 2 1 1 2 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 2 1 1 2 1 1 6 1 1 2 1 1 2 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 2 1 1 2 1 1 2 1 1 2 1 1 2 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
 1 1 1 2 1 1 1 1 1 1 1 1 1 2 1 1 1 
 1 1 1 1 1 2 1 1 2 1 1 2 1 1 1 1 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 7 1 
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
);
}

latMOX{
      id 20; 
      type latUniverse; 
      origin (0.0 0.0 0.0); 
      pitch (1.26 1.26 0.0);
      shape (17 17 0); 
      padMat water; 
      map ( 
 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 3 
 3 4 4 4 4 2 4 4 2 4 4 2 4 4 4 4 3 
 3 4 4 2 4 5 5 5 5 5 5 5 4 2 4 4 3 
 3 4 4 4 5 5 5 5 5 5 5 5 5 4 4 4 3 
 3 4 2 5 5 2 5 5 2 5 5 2 5 5 2 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 2 5 5 2 5 5 6 5 5 2 5 5 2 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 2 5 5 2 5 5 2 5 5 2 5 5 2 4 3 
 3 4 4 4 5 5 5 5 5 5 5 5 5 4 4 4 3 
 3 4 4 2 4 5 5 5 5 5 5 5 4 2 4 4 3 
 3 4 4 4 4 2 4 4 2 4 4 2 4 4 4 4 3 
 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 3 
 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3   
);
}

latMOXN{
      id 21; 
      type latUniverse; 
      origin (0.0 0.0 0.0); 
      pitch (1.26 1.26 0.0);
      shape (17 17 0); 
      padMat water; 
      map ( 
 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 3 
 3 4 4 4 4 2 4 4 2 4 4 2 4 4 4 4 3 
 3 4 4 2 4 5 5 5 5 5 5 5 4 2 4 4 3 
 3 4 4 4 5 5 5 5 5 5 5 5 5 4 4 4 3 
 3 4 2 5 5 2 5 5 2 5 5 2 5 5 2 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 2 5 5 2 5 5 6 5 5 2 5 5 2 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 4 5 5 5 5 5 5 5 5 5 5 5 4 4 3 
 3 4 2 5 5 2 5 5 2 5 5 2 5 5 2 4 3 
 3 4 4 4 5 5 5 5 5 5 5 5 5 4 4 4 3 
 3 4 4 2 4 5 5 5 5 5 5 5 4 2 4 4 3 
 3 4 4 4 4 2 4 4 2 4 4 2 4 4 4 4 3 
 3 8 4 4 4 4 4 4 4 4 4 4 4 4 4 4 3 
 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3   
);
}

latFineModer
{
id 40;
type latUniverse;
origin (0.0 0.0 0.0);
pitch (0.126 0.126 0.0);
shape (10 10 0);
padMat water;
map (
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30
);
}

latModUp
{
id 50;
type latUniverse;
origin (0.0 0.0 0.0);
pitch (1.26 1.26 0.0);
shape (17 17 0);
padMat water;
map (
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
);
}

latModLeft
{
id 60;
type latUniverse;
origin (0.0 0.0 0.0);
pitch (1.26 1.26 0.0);
shape (17 17 0);
padMat water;
map (
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
);
}

latModCorner
{
id 70;
type latUniverse;
origin (0.0 0.0 0.0);
pitch (1.26 1.26 0.0);
shape (17 17 0);
padMat water;
map (
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
40 40 40 40 40 40 40 40 40 40 40 30 30 30 30 30 30 
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 
);
}

latCore
{
  id 100;
  type latUniverse; 
  origin (0.0 0.0 0.0); 
  pitch (21.42 21.42 0.0);
  shape (3 3 0); 
  padMat water; 
  map ( 
10 21 60
20 10 60
50 50 70
);
}
		
} 

}

viz {
  myVTK {
    type vtk;
    what uniqueID; 
    corner (-32.13 -32.13 -1.0);
    width (64.26 64.26 2.0);
    vox (500 500 1);
  }
  bmp2 { 
    type bmp; 
    output material_xy; 
    what material; 
    centre (0.0 0.0 0.0); 
    axis z; 
    res (2000 2000);  
    width (64.26 64.26); }
} 


nuclearData {
  handles { 
    mg { type baseMgNeutronDatabase; PN P0;} 
  } 
  materials { 
    numberOfGroups 7;

    shit {temp 99; 
          xsFile ../../XS_C5G7/moder;
          composition {} }
    shit1 {temp 99; 
          xsFile ../../XS_C5G7/moder;
          composition {} }
    shit3 {temp 99; 
          xsFile ../../XS_C5G7/moder;
          composition {} }
    shit4 {temp 99; 
          xsFile ../../XS_C5G7/moder;
          composition {} }
         
    water { 
      temp 300;
      xsFile ../../XS_C5G7/moder;
      composition { } 
   }

    mox43 { 
       temp 300; 
       xsFile ../../XS_C5G7/MOX43;
       composition {  }
   }
	  
    mox7 { 
       temp 300; 
       xsFile ../../XS_C5G7/MOX7;
       composition { }
    } 
		
    mox7N { 
       temp 300; 
       xsFile ../../XS_C5G7/MOX7;
       composition { }
    } 
		
    mox87 { 
       temp 300; 
       xsFile ../../XS_C5G7/MOX87;
       composition { }
    } 
		
    UO2 {
       temp 300; 
       xsFile ../../XS_C5G7/UO2;
	composition { }
    }

    UO2N {
       temp 300; 
       xsFile ../../XS_C5G7/UO2;
	composition { }
    }

    // Fission chamber
    FC {
       temp 300; 
       xsFile ../../XS_C5G7/FC;
	composition { }
    }
    
    // Guide tube
    GT {
       temp 300; 
       xsFile ../../XS_C5G7/GT;
	composition { }
    }
	   
}
}


